{% extends "admin/index.html" %}
{% load i18n %}

{% block extrahead %}
{{ block.super }}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<style>
  /* Page background */
  body {
    background: linear-gradient(135deg, #71b7e6, #9b59b6) !important;
  }
  /* Jumbotron header */
  #content .jumbotron {
    background: #9b59b6;
    color: #fff;
    border-radius: 10px;
    margin-bottom: 20px;
  }
  /* Dashboard cards styling */
  .dashboard-card {
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.3);
    margin-bottom: 1.5rem;
  }
  .dashboard-card .card-header {
    color: #fff;
    border-radius: 10px 10px 0 0;
    font-weight: 600;
  }
  .dashboard-card-doctor .card-header { background: #9b59b6; }
  .dashboard-card-user .card-header   { background: #8e44ad; }
  .dashboard-card-status .card-header { background: #9b59b6; }

  /* Button overrides */
  .btn-primary-custom {
    background: #9b59b6;
    border-color: #8e44ad;
    color: #fff;
  }
  .btn-primary-custom:hover {
    background: #8e44ad;
    border-color: #9b59b6;
  }
  .btn-outline-light {
    border-color: rgba(255,255,255,0.3);
    color: #2d3436;
  }
  .btn-outline-light:hover {
    background: rgba(255,255,255,0.1);
    border-color: rgba(255,255,255,0.5);
  }
  /* Hide default admin title */
  #content h1 { display: none; }
</style>
{% endblock %}

{% block content %}
  <div class="jumbotron jumbotron-fluid">
    <div class="container">
      <h1 class="display-4">Medico Admin Dashboard</h1>
      <p class="lead">Welcome to the Medico administrative system.</p>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
      <div class="card dashboard-card dashboard-card-doctor">
        <div class="card-header">
          <h5 class="m-0">
            <i class="fas fa-user-md mr-2"></i>Doctor Management
          </h5>
        </div>
        <div class="card-body">
          <p>Use these tools to manage doctor accounts in the system.</p>
          <div class="btn-group-vertical w-100">
            <a href="{% url 'register_doctor' %}" class="btn btn-primary-custom mb-2">
              <i class="fas fa-user-plus mr-2"></i>Register New Doctor
            </a>
            <a href="{% url 'admin:chatbot_customuser_changelist' %}?is_staff__exact=1" class="btn btn-outline-light mb-2">
              <i class="fas fa-list-alt mr-2"></i>View All Doctors
            </a>
          </div>
        </div>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="card dashboard-card dashboard-card-user">
        <div class="card-header">
          <h5 class="m-0">
            <i class="fas fa-users mr-2"></i>User Management
          </h5>
        </div>
        <div class="card-body">
          <p>Manage regular users and their permissions.</p>
          <div class="btn-group-vertical w-100">
            <a href="{% url 'admin:chatbot_customuser_add' %}" class="btn btn-primary-custom mb-2">
              <i class="fas fa-user-plus mr-2"></i>Add New User
            </a>
            <a href="{% url 'admin:chatbot_customuser_changelist' %}" class="btn btn-outline-light">
              <i class="fas fa-list-alt mr-2"></i>View All Users
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <div class="card dashboard-card dashboard-card-status">
        <div class="card-header">
          <h5 class="m-0">
            <i class="fas fa-chart-line mr-2"></i>System Status
          </h5>
        </div>
        <div class="card-body">
          <div class="row text-center">
            <div class="col-md-4 mb-3">
              <div style="font-size:2rem; color:#9b59b6;"><i class="fas fa-user-md"></i></div>
              <h4>{{ doctor_count|default:"0" }}</h4>
              <p class="text-muted">Doctors</p>
            </div>
            <div class="col-md-4 mb-3">
              <div style="font-size:2rem; color:#8e44ad;"><i class="fas fa-users"></i></div>
              <h4>{{ user_count|default:"0" }}</h4>
              <p class="text-muted">Regular Users</p>
            </div>
            <div class="col-md-4 mb-3">
              <div style="font-size:2rem; color:#9b59b6;"><i class="fas fa-comments"></i></div>
              <h4>{{ chat_count|default:"0" }}</h4>
              <p class="text-muted">Chat Sessions</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  {{ block.super }}
{% endblock %}
